<div class="row contact-wrap"> 
    <div class="col-lg-12 col-sm-12 col-xs-12" >
        <h1 class="center"> Registrar Compra Directa</h1>
        <p class="lead center">Ingrese información de la compra</p>
    </div>
</div>
<!-- El elemento mensaje error -->
<div class="row contact-wrap"  data-ng-show="error"> 
   <div uib-alert ng-class="'alert-danger'" class="col-lg-4 col-lg-offset-4 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-sm-10 col-sm-offset-1" close="closeAlert()">{{error}}</div>
</div>

<div class="col-lg-3 col-md-3 col-sm-4 col-xs-12" style='border-right: 1px solid #DDD'>
    <form ng-submit="create()">
        <h2> Formulario de</br>Solicitud de Compra</h2>
        <div class="form-group">
            <label>Unidad</label>
            <input type="text" class="form-control" data-ng-model="unidad" required>
        </div>
        <div class="form-group">
            <label>Centro de Responsabilidad</label>
            <input type="text" class="form-control" data-ng-model="centroResponsabilidad" placeholder="" required>
        </div>
        <div class="form-group">
            <label>Nombre del Solicitante</label>
            <input type="text" class="form-control" data-ng-model="nombreSolicitante" placeholder="" required>
        </div>
        <div class="form-group">
            <label>Lugar de Despacho</label>
            <input type="text" class="form-control" data-ng-model="lugarDespacho" placeholder="" required>
        </div>
        <div class="center">
            <button type="submit" class="btn btn-primary form-control"><i class="fa fa-download"></i> Registrar y descargar Solicitud</button>
        </div>
</div>

<div class="col-lg-9 col-md-9 col-sm-8 col-xs-12" ng-init="init_empty_productos()">
    <h2>Productos</h2>
    <button class="btn btn-default" ng-click="addProduct()" style="margin: 0px 1px 17px 0px;padding: 5px 8px;"><i class="fa fa-plus"></i> Agregar Producto</button>
    <table class="table table-striped" style='border: 1px solid #DDD' >
        <thead>
            <tr>
                <th>Cantidad</th>
                <th>Producto</th>
                <th>Codigo ID</th>
                <th>Proveedor</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="p in productos">
                <td><input class="form-control" type="number" ng-model="p.cantidadComprada" required /></td>
                <td><input class="form-control" ng-model="p.descripcion" required /></td>
                <td><input class="form-control" ng-model="p.codigoID"  required /></td>
                <td><input class="form-control" ng-model="p.proveedor" required /></td>
                <td><button class="btn btn-danger" ng-click="removeProduct($index)" style="border-radius: 50%;padding: 3px 7px;margin-top: 3px;"><i class="fa fa-minus"></i></button></td>
            </tr>
            <tr ng-show="productos.length === 0">
                <td colspan="5" class="center"> No ha agregado productos a la compra <a class="btn btn-default" ng-click="addProduct()" style="padding: 3px 6px;"><i class="fa fa-plus"></i> Agregar Producto</a></td>
            </tr>
        <tbody>
    </table>
</div>

</form>

<div class="col-lg-12 col-sm-12 col-xs-12 center">
    <a class="btn btn-default " style="margin-top:20px" href="#!/tipo_egreso"><i class="fa fa-back"></i> Atrás</a>
    <a class="btn btn-danger " style="margin-top:20px" href="#!/home_administrativo"><i class="fa fa-times"></i> Cancelar</a>
</div>
